- title 'mintt: admin | Candidates'
.text
  %h3= "Candidates : #{smart_objects_objects_displayed_range(@users)} of #{smart_objects_count(@users)}"
  
  %table
    %colgroup
      - 7.times do
        %col{ :class => cycle("even", "odd") }
    %tr
      %th
      %th= link_to "Name", admin_users_path(sort_parameters('last_name'))
      %th= link_to "School", admin_users_path(sort_parameters('school'))
      %th= link_to "Supervisor", admin_users_path(sort_parameters('thesis_supervisor'))
      %th= link_to "Application Date", admin_users_path(sort_parameters('confirmed_at'))
      %th
      %th
      
    - @users.each do |user|
      %tr[user]{ :class => cycle("", "alt") }
        %td.gender= link_to image_tag("/images/admin/#{user.gender}.png", :alt => user.gender), admin_user_path(user)
        %td= link_to user_full_name(user, true), admin_user_path(user)
        %td= user.school
        %td= user.thesis_supervisor
        %td.datetime
          %span.date= sexy_date(user.confirmed_at)
        %td= link_to("edit", edit_admin_user_path(user))
        %td= button_to("delete", admin_user_path(user), :confirm => "Are you sure?", :method => :delete, :class => "button delete")
        
  - unless params.key? :all
    = will_paginate @users
    = link_to "View all", admin_users_path(:all => true)
  - else
    = link_to "View with paginate", admin_users_path
    
  %p= link_to "Export all users in CSV", admin_users_path(:format => 'csv')